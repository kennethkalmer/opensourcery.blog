---
id: 223
title: 'Getting &#8220;copy friendly&#8221; with jQuery'
author: Kenneth Kalmer
layout: retro
guid: http://www.opensourcery.co.za/?p=223
permalink: /2009/07/10/getting-copy-friendly-with-jquery/
tags:
  - jquery
disqus_identifier: '223 http://www.opensourcery.co.za/?p=223'
---

When I&#8217;m not busy writing backends for large service provisioning platforms, I get to spend some time in the user-facing interfaces of these platforms. We&#8217;ve prided ourselves so far on maintaining cross browser compatibility (excluding IE6), and to a certain extend mobile phone accessiblity as well. All the dynamics of the interface is done with jQuery, and it is done unobtrusively as well. We frequently test the site with Javascript disabled, to make sure that everything works as expected, and it mostly does. Webrat is a great help here as well, since it navigates the site without Javascript&#8230;

But enough blabbering, the ISP in a Box platform is huge, and interacts with various other service providers through a myriad of API&#8217;s, some of them as reliable as convicted mobster. Our support teams are constantly double checking the interactions between the autonomous participants and our service providers, and this means a lot of copying and pasting, from our interfaces to theirs.

They simply &#8220;double click&#8221; to select text in our interface, causing the browser to copy additional whitespace with the selected text. When pasting into a search box they need to prune the additional whitespace off manually, making the process even slower and more tedious than it needs to be. I can&#8217;t replicate this with Firefox on Ubuntu, but it happens to the Windows guys&#8230;

In the previous version of the system I solved the issue quickly and bluntly by simply placing all the information in text fields that were styled to be transparent. In this day and age of unobtrusiveness I thought it more appropriate to generate the text fields on the fly, since they&#8217;re a convenience and have no effect on the functionality of the system.

It took me 5 minutes to get this done in jQuery, and another 10 to figure out how to wrap it all up as a jQuery plugin. I love jQuery&#8230;

Ladies and gentleman, I present you with the[ jQuery copyfriendly][1] plugin.

**Usage**

~~~javascript
$(document).ready(function(){
  $('.copyme').copyfriendly();
});
~~~

And then mark your &#8220;copy friendly&#8221; HTML elements like this:

~~~html
<table>
  <tr>
    <td class="copyme">Hello</td>
  </tr>
</table>
~~~

Or inline like this:

~~~html
<span class="copyme">Heya</span>
~~~

`copyfriendly()` takes on parameter currently, which is optional:

~~~js
copyfriendly({
  klass: "borderless"
});
~~~

The &#8216;klass&#8217; option tells copyfriendly which CSS class to apply to the inputs generated.

**Sample CSS**

You can make the inputs generated by copyfriendly invisible using this sample CSS:

~~~css
input.borderless {
  border: none;
}
~~~

Do be warned that it might take a little more to align the appearance of the remaining text with the surrounding text in the document.

**How it works**

Actually quite simple. All it does is extract the text from the element and then replaces that text with an input tag of type &#8220;text&#8221;, and the value is the original text extract from the matching element. The size of the element is dynamically calculated from the string length, so there might be room for improvement here.

 [1]: http://github.com/kennethkalmer/jquery-copyfriendly/tree/master
